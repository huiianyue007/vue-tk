/*!
* Vue Tk
*/   
!(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["vue-tk"]=t():e["vue-tk"]=t()})(this,(function(){return (function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=303)})({3:function(e,t){e.exports=function(e,t,i,o,n){var r,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,s=e.default);var c="function"==typeof s?s.options:s;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns),o&&(c._scopeId=o);var a;if(n?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=a):i&&(a=i),a){var u=c.functional,d=u?c.render:c.beforeCreate;u?c.render=function(e,t){return a.call(t),d(e,t)}:c.beforeCreate=d?[].concat(d,a):[a]}return{esModule:r,exports:s,options:c}}},303:function(e,t,i){e.exports=i(304)},304:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.default=void 0;var o=i(305),n=(function(e){return e&&e.__esModule?e:{default:e}})(o),r=function(e){e.component("tk-sticky",e.extend(n.default))};n.default.install=r,t.default=n.default,t.install=r},305:function(e,t,i){"use strict";function o(e){i(306)}Object.defineProperty(t,"__esModule",{value:!0});var n=i(307),r=i.n(n),s=i(309),l=i(3),c=o,a=l(r.a,s.a,c,"data-v-48c0c318",null);t.default=a.exports},306:function(e,t){},307:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(308),n=(function(e){return e&&e.__esModule?e:{default:e}})(o);t.default={props:{top:{type:Number,default:0},force:Boolean},data:function(){return{stickSupport:this.stickSupportCheck(),replaceBlock:null,onSticky:!1,onScrollToDisappear:!1,scrollTarget:null,style:this.defaultStyle()}},methods:{defaultStyle:function(){var e={};return e.top=this.top+"px",e},build:function(){if(this.stickSupport)this.style=this.defaultStyle();else{var e={position:"absolute",width:this.replaceBlock.offsetWidth+"px"};if(!this.onSticky)return e.top=this.replaceBlock.offsetTop+"px",this.style=e,void this.$nextTick((function(){this.updateReplaceBlock()}));if(this.onScrollToDisappear)e.top=this.$el.parentNode.offsetTop+this.$el.parentNode.offsetHeight-this.$el.offsetHeight+"px";else{var t=this.$el.getBoundingClientRect();if(e.left=t.left+"px",e.position="fixed",this.scrollTarget===window)e.top=this.top+"px";else{var i=this.scrollTarget.getBoundingClientRect();e.top=i.top+this.top+"px"}}this.style=e,this.$nextTick((function(){this.updateReplaceBlock()}))}},resizeHandle:function(){if(this.replaceBlock){if(!this.isElementInViewport(this.$el.parentNode))return this.onSticky=!1,this.onScrollToDisappear=!1,void this.build();var e=this.getRelatedScrollElement(this.$el.parentNode);if(null===e)return this.onSticky=!1,this.onScrollToDisappear=!1,void this.build();this.scrollTarget=e;var t=this.replaceBlock,i=this.$el.parentNode,o=e===window?0:e.getBoundingClientRect().top,n=t.getBoundingClientRect(),r=i.getBoundingClientRect();n.top+this.top<=o&&r.bottom-this.$el.offsetHeight>o?(this.onSticky=!0,this.onScrollToDisappear=!1):r.bottom-this.$el.offsetHeight<=o?(this.onSticky=!0,this.onScrollToDisappear=!0):(this.onSticky=!1,this.onScrollToDisappear=!1),this.build()}},getRelatedScrollElement:function(e){if(!isServer){if(!e.tagName)return window;var t=window.getComputedStyle(e);return"hidden"===t.overflowY?null:"auto"===t.overflowY||"scroll"===t.overflowY?e:this.getRelatedScrollElement(e.parentNode)}},stickSupportCheck:function(){if(!isServer){if(this.force)return!1;if(void 0!==this.getGlobalData("stickSupport"))return this.getGlobalData("stickSupport");for(var e=["","-webkit-","-moz-","-ms-"],t=document.createElement("div"),i=!1,o=e.length-1;o>=0;o--){try{t.style.position=e[o]+"sticky"}catch(e){}if(""!==t.style.position){i=!0;break}}return this.setGlobalData("stickSupport",i),i}},setReplaceBlock:function(){if(!isServer&&!this.replaceBlock&&this.$el){var e=this.$el.previousSibling;if(null!==e&&"sticky-replace-block"===e.getAttribute("class"))this.replaceBlock=e;else{var t=document.createElement("div");t.setAttribute("class","sticky-replace-block"),this.$el.parentNode.insertBefore(t,this.$el),this.replaceBlock=t}}},updateReplaceBlock:function(){this.replaceBlock.style.height=this.$el.offsetHeight+"px"},removeReplaceBlock:function(){this.replaceBlock&&(this.replaceBlock.parentNode.removeChild(this.replaceBlock),this.replaceBlock=null)},isElementInViewport:function(e){if(!isServer){var t=e.getBoundingClientRect();return!(t.left>window.innerWidth||t.right-t.width<0||t.top>window.innerHeight||t.bottom<0)}},bindEvent:function(){if(!isServer){if(!this.getGlobalData("registerMutationObserver")){var e=new window.CustomEvent("documentChange"),t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i=new t(function(){window.dispatchEvent(e)}),o={attributes:!0,childList:!0,characterData:!0,subtree:!0};i.observe(document,o),this.setGlobalData("registerMutationObserver",!0)}window.addEventListener("scroll",this.resizeHandle,!0),window.addEventListener("resize",this.resizeHandle,!0),window.addEventListener("documentChange",this.resizeHandle,!0)}},removeEvent:function(){isServer||(window.removeEventListener("scroll",this.resizeHandle,!0),window.removeEventListener("resize",this.resizeHandle,!0),window.removeEventListener("documentChange",this.resizeHandle,!0))}},mounted:function(){this.stickSupport||(this.setReplaceBlock(),this.build(),this.bindEvent())},updated:function(){!this.stickSupport&&this.replaceBlock&&(this.setReplaceBlock(),this.build())},activated:function(){this.stickSupport||(this.setReplaceBlock(),this.build(),this.bindEvent())},deactivated:function(){this.stickSupport||(this.removeReplaceBlock(),this.removeEvent(),this.style={})},beforeDestroy:function(){this.stickSupport||(this.removeReplaceBlock(),this.removeEvent(),this.style={})},mixins:[n.default]},e.exports=t.default},308:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};t.default={beforeCreate:function(){var e=this.$options.name;o[e]||(o[e]={})},methods:{getGlobalData:function(e){return o[this.$options.name][e]},setGlobalData:function(e,t){o[this.$options.name][e]=t}}},e.exports=t.default},309:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"tk-sticky",style:e.style},[e._t("default")],2)},n=[],r={render:o,staticRenderFns:n};t.a=r}})}));